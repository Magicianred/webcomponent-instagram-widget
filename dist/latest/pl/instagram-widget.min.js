!function(){const t=document.createElement("template");t.innerHTML='<style id="instagram-widget-style">#ptkdev-instagram-widget .instagram-widget-container{text-align:center;justify-content:center;font-weight:500}#ptkdev-instagram-widget .instagram-widget-photos img{border-radius:5%;background-color:#f8f8ff;object-fit:cover;object-position:50% 50%;max-width:300px;max-height:300px;min-width:80px;min-height:80px}</style><div id="ptkdev-instagram-widget" version="1.1.0">\n\t<div class="instagram-widget-container">\n\t\t<div class="instagram-widget-photos"></div>\n\t</div>\n</div>';class e extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t.content.cloneNode(!0))}api_fetch(){let t=this;fetch(`https://www.instagram.com/${this.getAttribute("username").replace("@","")}/`).then((function(t){if(200===t.status)return t.text()})).then((function(e){const i=new RegExp(/<script type="text\/javascript">window\._sharedData = (.*);<\/script>/);const s=JSON.parse(e.match(i)[1]).entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges.splice(0,9).map(({node:t})=>({url:`https://www.instagram.com/p/${t.shortcode}/`,thumbnail:t.thumbnail_src,display_url:void 0!==t.display_url?t.display_url:"",caption:t.edge_media_to_caption.edges[0]&&void 0!==t.edge_media_to_caption.edges[0].node.text?t.edge_media_to_caption.edges[0].node.text:""}));let r="";for(let e=0;e<s.length&&e<t.getAttribute("items-limit");e++)r+=`<a href="${s[e].url}" rel="nofollow external noopener noreferrer" target="_blank" title="${s[e].caption.substring(0,100).replace(/"/g,"")}"><img width="${t.getAttribute("image-width")}" height="${t.getAttribute("image-height")}" src="${s[e].display_url}" alt="${s[e].caption.substring(0,100).replace(/"/g,"")}" loading="lazy" /></a> `;if(document.querySelector("ptkdev-instagram-widget").shadowRoot.querySelector(".instagram-widget-photos").innerHTML=r,""!==t.getAttribute("grid")&&"responsive"!==t.getAttribute("grid")){let e=t.getAttribute("grid").split("x"),i=100/parseInt(e),s=document.querySelector("ptkdev-instagram-widget").shadowRoot.querySelectorAll(".instagram-widget-photos img");for(let t=0;t<s.length;t++)s[t].setAttribute("width",i-1+"%"),s[t].style.maxWidth="none",s[t].style.maxHeight="none"}}))}connectedCallback(){this.hasAttribute("username")||this.setAttribute("username","@ptkdev"),this.hasAttribute("items-limit")||this.setAttribute("items-limit",9),this.hasAttribute("image-width")||this.setAttribute("image-width","100%"),this.hasAttribute("image-height")||this.setAttribute("image-height","100%"),this.hasAttribute("grid")||this.setAttribute("grid","responsive"),this.api_fetch()}static get observedAttributes(){return["username","items-limit","grid","image-width","image-height"]}attributeChangedCallback(t,e,i){this.getAttribute(t)!==i&&this.api_fetch()}get username(){return this.getAttribute("username")}set username(t){this.setAttribute("username",t)}get items_limit(){return this.getAttribute("items-limit")}set items_limit(t){this.setAttribute("items-limit",t)}get image_width(){return this.getAttribute("image-width")}set image_height(t){this.setAttribute("image-height",t)}}window.customElements.define("ptkdev-instagram-widget",e)}();